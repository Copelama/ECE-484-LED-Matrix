#include "lib/LedControl.h"  // Include LedControl header file
#include <avr/io.h>
#include <unistd.h> 

LedControl lc = LedControl(12, 11, 10, 1);

// Image switching time
unsigned long delaytime1 = 500;
unsigned long delaytime2 = 50;

void setup() {
    // Initialize the LedControl library
    lc.shutdown(0, false);   // Wakeup call
    lc.setIntensity(0, 8);   // Set brightness
    lc.clearDisplay(0);      // Clear display
}

void writeCharOnMatrix(byte charData[8]) {
    for (int i = 0; i < 8; i++) {
        lc.setRow(0, i, charData[i]);  // Display character row by row
    }
    usleep(delaytime1 * 1000);          // Delay between characters
}

void writeArduinoOnMatrix() {
    // Define characters
    byte A[] = {0b00000000, 0b00111100, 0b00100100, 0b00100100, 0b00111100, 0b00100100, 0b00100100, 0b00000000};
    byte R[] = {0b00000000, 0b00111000, 0b00100100, 0b00100100, 0b00111000, 0b00100100, 0b00100100, 0b00000000};
    byte D[] = {0b00000000, 0b00111100, 0b00100010, 0b00100010, 0b00100010, 0b00100010, 0b00111100, 0b00000000};
    byte U[] = {0b00000000, 0b00100010, 0b00100010, 0b00100010, 0b00100010, 0b00100100, 0b00011000, 0b00000000};
    byte I[] = {0b00000000, 0b00111000, 0b00010000, 0b00010000, 0b00010000, 0b00010000, 0b00111000, 0b00000000};
    byte N[] = {0b00000000, 0b00100010, 0b00110010, 0b00101010, 0b00100110, 0b00100010, 0b00000000, 0b00000000};
    byte O[] = {0b00000000, 0b00111100, 0b01000010, 0b01000010, 0b01000010, 0b01000010, 0b00111100, 0b00000000};

    // Display characters sequentially
    writeCharOnMatrix(A);
    writeCharOnMatrix(R);
    writeCharOnMatrix(D);
    writeCharOnMatrix(U);
    writeCharOnMatrix(I);
    writeCharOnMatrix(N);
    writeCharOnMatrix(O);

    // Clear display
    for (int i = 0; i < 8; i++) {
        lc.setRow(0, i, 0);
    }
    usleep(delaytime1 * 1000); // Delay after displaying full word
}

int main() {
    setup(); // Setup LED matrix
    while (1) {
        writeArduinoOnMatrix(); // Display "ARDUINO" repeatedly
    }
    return 0;
}

    return 0;
}
